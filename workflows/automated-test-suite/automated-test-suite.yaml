id: automated-test-suite
name: Automated Test Suite
start: webhook
options: {}
steps:
  - id: capture-actual-output
    name: Capture actual output
    adaptor: "@openfn/language-common@latest"
    expression: ./capture-actual-output.js
    next:
      write-results-back-to-google-sheet:
        disabled: false
        condition: on_job_success
  - id: get-inputs-from-github
    name: Get Inputs from Github
    adaptor: "@openfn/language-http@7.2.7"
    expression: ./get-inputs-from-github.js
    next:
      trigger-workflow:
        disabled: false
        condition: on_job_success
  - id: read-test-cases-from-google-sheet
    name: Read test cases from Google Sheet
    adaptor: "@openfn/language-googlesheets@latest"
    configuration: 65da56fb-c063-41bd-b975-03c8a4ff2c6f
    expression: ./read-test-cases-from-google-sheet.js
    next:
      get-inputs-from-github:
        disabled: false
        condition: on_job_success
  - id: trigger-workflow
    name: Trigger Workflow
    adaptor: "@openfn/language-http@7.2.7"
    configuration: 1296d9ea-9c40-494a-99cb-8e7f8a65f88c
    expression: ./trigger-workflow.js
    next:
      capture-actual-output:
        disabled: true
        condition: on_job_success
  - id: webhook
    type: webhook
    next:
      read-test-cases-from-google-sheet:
        disabled: false
        condition: always
  - id: write-results-back-to-google-sheet
    name: Write results back to Google Sheet
    adaptor: "@openfn/language-googlesheets@latest"
    expression: ./write-results-back-to-google-sheet.js
